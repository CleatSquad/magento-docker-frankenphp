# =============================================================================
# Magento FrankenPHP Docker Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment
# DO NOT commit .env file to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Project Configuration
# -----------------------------------------------------------------------------
PROJECT_NAME=magento
SERVER_NAME=magento.localhost
BASE_URL=https://magento.localhost/

# -----------------------------------------------------------------------------
# Magento Configuration
# -----------------------------------------------------------------------------
# Run mode: developer, production, default
MAGENTO_RUN_MODE=developer

# -----------------------------------------------------------------------------
# User/Permission Configuration (Development)
# -----------------------------------------------------------------------------
# These are auto-set by bin/setup, but can be overridden
USER_ID=1000
GROUP_ID=1000

# -----------------------------------------------------------------------------
# Database Configuration (MariaDB)
# -----------------------------------------------------------------------------
DB_HOST=mariadb
DB_NAME=magento
DB_USER=magento
DB_PASSWORD=magento
# Root password for administrative tasks
MYSQL_ROOT_PASSWORD=root

# PhpMyAdmin configuration
PMA_HOST=mariadb
PMA_USER=magento
PMA_PASSWORD=magento

# -----------------------------------------------------------------------------
# Search Engine (OpenSearch)
# -----------------------------------------------------------------------------
SEARCH_ENGINE=opensearch
OPENSEARCH_HOST=opensearch
OPENSEARCH_PORT=9200
# Disable security plugin for development
DISABLE_SECURITY_PLUGIN=true

# -----------------------------------------------------------------------------
# Cache & Sessions (Valkey/Redis)
# -----------------------------------------------------------------------------
VALKEY_HOST=valkey
VALKEY_PORT=6379
# Redis DB assignments: 0=cache, 1=page_cache, 2=session

# -----------------------------------------------------------------------------
# Message Queue (RabbitMQ)
# -----------------------------------------------------------------------------
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_DEFAULT_USER=magento
RABBITMQ_DEFAULT_PASS=magento
RABBITMQ_DEFAULT_VHOST=/

# -----------------------------------------------------------------------------
# Xdebug Configuration (Development)
# -----------------------------------------------------------------------------
# Mode: debug, coverage, develop, profile, trace, off
XDEBUG_MODE=debug
XDEBUG_CLIENT_HOST=host.docker.internal
XDEBUG_CLIENT_PORT=9003
# Start mode: trigger, yes, no
XDEBUG_START_WITH_REQUEST=trigger
XDEBUG_IDEKEY=PHPSTORM

# -----------------------------------------------------------------------------
# SSL Configuration
# -----------------------------------------------------------------------------
# For custom SSL certificates (mkcert), set the paths:
# CADDY_TLS_CONFIG="/etc/caddy/ssl/magento.localhost.pem /etc/caddy/ssl/magento.localhost-key.pem"

# -----------------------------------------------------------------------------
# Mail Configuration (Development)
# -----------------------------------------------------------------------------
SENDMAIL_PATH="/usr/local/bin/mhsendmail --smtp-addr=magento-mailhog:1025"

# -----------------------------------------------------------------------------
# Docker Profiles (Optional)
# -----------------------------------------------------------------------------
# Available profiles: dev, prod, debug
# Use: docker compose --profile debug up -d
# COMPOSE_PROFILES=dev

# -----------------------------------------------------------------------------
# Composer Authentication (Required for Magento)
# -----------------------------------------------------------------------------
# Get your keys from https://marketplace.magento.com/
# COMPOSER_AUTH={"http-basic":{"repo.magento.com":{"username":"YOUR_PUBLIC_KEY","password":"YOUR_PRIVATE_KEY"}}}
