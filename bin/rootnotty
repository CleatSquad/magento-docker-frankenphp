#!/usr/bin/env bash
# Run commands in the app container as root without TTY
# Usage: bin/rootnotty <command>

set -e

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
PROJECT_ROOT="$(cd "${SCRIPT_DIR}/.." && pwd)"
cd "${PROJECT_ROOT}"

[ -z "$1" ] && echo "Please specify a CLI command (ex. ls)" && exit 1

docker compose exec -T -u root app "$@"
