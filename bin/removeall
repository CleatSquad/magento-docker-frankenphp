#!/usr/bin/env bash
# Remove Docker containers, volumes and networks
# Usage: bin/removeall [profile]
# Default profile: dev

set -e

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
PROJECT_ROOT="$(cd "${SCRIPT_DIR}/.." && pwd)"
cd "${PROJECT_ROOT}"

PROFILE="${1:-dev}"

echo "üóëÔ∏è  Removing Docker containers, volumes and networks (profile: ${PROFILE})..."
docker compose --profile "${PROFILE}" down -v --remove-orphans
echo "‚úÖ All containers, volumes and networks removed successfully!"
