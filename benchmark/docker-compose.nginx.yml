# Nginx + PHP-FPM Stack for benchmark
# Uses standard nginx and PHP-FPM images with custom configuration
services:
  nginx:
    image: nginx:1.27-alpine
    container_name: benchmark-nginx
    ports:
      - "8080:80"
    volumes:
      - ./nginx-php-fpm/conf/nginx.conf:/etc/nginx/nginx.conf:ro
      - ./nginx-php-fpm/conf/default.conf:/etc/nginx/conf.d/default.conf:ro
      - ./html:/var/www/html:cached
    depends_on:
      - php-fpm
    networks:
      - benchmark

  php-fpm:
    image: php:8.4-fpm-alpine
    container_name: benchmark-php-fpm
    volumes:
      - ./html:/var/www/html:cached
    networks:
      - benchmark

networks:
  benchmark:
